<h1>Credit Cards</h1>
<table id="creditcard-table">
    <thead>
        {{!-- First row as header --}}
        <tr>
            {{#each headers}}
            <th>
                {{this}}
            </th>
            {{/each}}
            <th>Update</th>
            <th>Delete</th>
        </tr>
    </thead>
    <tbody>
        {{!-- For each row, print the fields--}}
        {{#each data}}
        <tr>
            <form action="/update_delete_creditcard" method="POST">
                <td><input name="creditcard_id" value="{{this.CC_ID}}" readonly></td>
                <td><input name="creditcard_pin_hash" value="{{this.CC_PIN_HASH}}"></td>
                <td><input name="creditcard_num_hash" value="{{this.CC_NUMBER_HASH}}"></td>
                <td>
                    {{#if this.CC_DEFAULT_CARD}}
                        <input name="creditcard_default_card" type="checkbox" checked>
                    {{else}}
                        <input name="creditcard_default_card" type="checkbox">
                    {{/if}}
                </td>
                <td><input name="creditcard_cusname" value="{{this.CC_CUS_NAME}}" readonly></td>

                <td><input type="submit" name="action" value="Update" /></td>
                <td><input type="submit" name="action" value="Delete" /></td>
                <td><input type="hidden" name="creditcard_cusid" value="{{this.CC_CUS_ID}}"></td>
            </form>
        </tr>
        {{/each}}
    </tbody>
</table>
<br>
    <b>Update:</b> Please edit data in the table directly and click 'Update'.<br>
    <b>Delete:</b> Please click 'Delete' next to each record.<br>
{{!--Input fields--}}
<h2>Add creditcard</h2>
<p>Please enter the name and code of credit card and press submit button to add a new creditcard</p>
<form id="add-creditcard-form" method="POST" action="/add-creditcard-form">
    
    <label for="input-creditcard_pin_hash">PIN: </label>
    <input type="text" name="input-creditcard_pin_hash" id="input-creditcard_pin_hash">
    
    <label for="input-creditcard_num_hash">Num: </label>
    <input type="text" name="input-creditcard_num_hash" id="input-creditcard_num_hash">

    <label for="input-creditcard_default_card">Default Card?: </label>
    <input type="checkbox" name="input-creditcard_default_card" id="input-creditcard_default_card">

    <label for="input-creditcard_cusid">Customer: </label>
    <input list="customers" type="text" name="input-creditcard_cusid" id="input-creditcard_cusid">
        <datalist id="customers">
            {{#each customers}}
                <option value="{{this.CUS_ID}}" label="{{this.CUS_NAME}}">
            {{/each}}
        </datalist>

    <input type="submit">
</form>
